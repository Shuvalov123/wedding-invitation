<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Приглашение на свадьбу</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(to bottom, #fff0f6, #ffffff);
      color: #333;
      overflow-x: hidden;
    }
    header {
      text-align: center;
      padding: 50px 20px;
      background-image: url('https://images.unsplash.com/photo-1525097487452-6278ff080c31?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
      background-size: cover;
      background-position: center;
      color: white;
      position: relative;
      z-index: 2;
    }
    header h1 {
      font-size: 3rem;
      margin: 0;
      font-family: 'Playfair Display', serif;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.7);
    }
    header p {
      font-size: 1.5rem;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.5);
    }
    section {
      padding: 40px 20px;
      max-width: 800px;
      margin: auto;
      background: #ffffffd9;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      margin-bottom: 30px;
      position: relative;
      z-index: 2;
    }
    section h2 {
      font-family: 'Playfair Display', serif;
      color: #c2185b;
      margin-bottom: 15px;
    }
    .program ul {
      padding-left: 20px;
      list-style-type: disc;
      font-size: 1.1rem;
      color: #555;
    }
    .countdown-section {
      text-align: center;
      padding: 60px 20px;
      background: linear-gradient(to bottom, #fff0f6, #ffffff);
      position: relative;
      z-index: 2;
    }
    #countdown {
      display: flex;
      justify-content: center;
      gap: 20px;
      font-size: 1.8rem;
      font-weight: bold;
      color: #d81b60;
      font-family: 'Segoe UI', sans-serif;
    }
    #countdown div {
      background: #fce4ec;
      border-radius: 12px;
      padding: 10px 15px;
      box-shadow: 0 4px 8px rgba(220, 20, 60, 0.2);
      transition: transform 0.3s ease;
    }
    #countdown div:hover {
      transform: scale(1.05);
    }
    #countdown span {
      display: block;
      font-size: 2.2rem;
      margin-bottom: 5px;
      color: #880e4f;
    }
    footer {
      text-align: center;
      padding: 20px;
      font-size: 0.9rem;
      color: #888;
      position: relative;
      z-index: 2;
    }
    /* Кнопки переключения языка и музыки */
    #lang-switcher, #music-toggle {
      cursor: pointer;
      background: #c2185b;
      color: white;
      border: none;
      border-radius: 25px;
      padding: 8px 15px;
      font-size: 1rem;
      margin: 10px 10px 30px 10px;
      font-family: 'Roboto', sans-serif;
      transition: background-color 0.3s ease;
    }
    #lang-switcher:hover, #music-toggle:hover {
      background-color: #880e4f;
    }
    /* Гостевая книга */
    .guestbook {
      max-width: 600px;
      margin: 30px auto 60px auto;
      background: #ffffffd9;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      padding: 25px 30px;
      position: relative;
      z-index: 2;
    }
    .guestbook h2 {
      font-family: 'Playfair Display', serif;
      color: #c2185b;
      margin-bottom: 20px;
      text-align: center;
    }
    .guestbook label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #444;
      font-size: 1rem;
    }
    .guestbook input[type="text"],
    .guestbook input[type="email"],
    .guestbook textarea,
    .guestbook select {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 1rem;
      font-family: 'Roboto', sans-serif;
      resize: vertical;
    }
    .guestbook button {
      background: #c2185b;
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      font-size: 1.1rem;
      cursor: pointer;
      font-family: 'Roboto', sans-serif;
      transition: background-color 0.3s ease;
    }
    .guestbook button:hover {
      background-color: #880e4f;
    }
    .success-msg, .error-msg {
      display: none;
      text-align: center;
      padding: 12px;
      border-radius: 15px;
      margin-top: 10px;
      font-weight: 600;
      font-size: 1rem;
    }
    .success-msg {
      background-color: #d4edda;
      color: #155724;
    }
    .error-msg {
      background-color: #f8d7da;
      color: #721c24;
    }
    /* Лепестки роз */
    .petal {
      position: fixed;
      top: -30px;
      width: 25px;
      height: 25px;
      background: url('https://i.postimg.cc/c1RTnzM3/rose-petal.png') no-repeat center/contain;
      pointer-events: none;
      opacity: 0.8;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }
    @keyframes fall {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.8;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <header>
    <h1 id="title">Приглашение на свадьбу</h1>
    <p id="couple">Ильи и Марии</p>
    <p id="date-time">7 августа, четверг, 16:00</p>
  </header>

  <div style="text-align:center;">
    <button id="lang-switcher" aria-pressed="false">Русский</button>
    <button id="music-toggle" aria-pressed="false">Включить музыку</button>
  </div>

  <section class="countdown-section">
    <h2 id="countdown-title">До свадьбы осталось:</h2>
    <div id="countdown">
      <div><span id="days">--</span><div id="days-label">дней</div></div>
      <div><span id="hours">--</span><div id="hours-label">часов</div></div>
      <div><span id="minutes">--</span><div id="minutes-label">минут</div></div>
      <div><span id="seconds">--</span><div id="seconds-label">секунд</div></div>
    </div>
  </section>

  <section class="info">
    <h2 id="place-title">Место проведения</h2>
    <p id="place-text">Санаторий "Красный Холм", Ярославская область, п. Красный Холм, ул. Волжская д. 2</p>
  </section>

  <section class="program">
    <h2 id="program-title">Программа</h2>
    <ul>
      <li id="prog-1">16:00 Начало свадьбы</li>
      <li id="prog-5">17:00 Лёгкие закуски и напитки</li>
      <li id="prog-7">18:00 Тосты</li>
      <li id="prog-3">19:00 Дресс-код: мы рады видеть вас в любом наряде, который подарит вам комфорт и уверенность в себе. Главное — чтобы одежда была удобной, позволяла свободно двигаться и приносила радость. Пусть ваш стиль отражает ваше настроение и индивидуальность — будь то лёгкое платье, изящный костюм или что-то совершенно особенное. Важно, чтобы вы чувствовали себя свободно и наслаждались праздником в полной мере!</li>
      <li id="prog-8">20:00 Переключение языка сайта (Русский/Удмуртский)</li>
      <li id="prog-2">21:00 Караоке</li>
      <li id="prog-4">22:00 Танцы и веселье</li>
      <li id="prog-6">23:00 Окончание мероприятия</li>
    </ul>
  </section>

  <section class="contacts">
    <h2 id="contacts-title">Контакты</h2>
    <p><strong id="groom-title">Жених:</strong> Шувалов Илья Александрович — <a href="tel:+79969260616">+7 (996) 926-06-16</a><br />
      <a href="mailto:ilasuvalov1@gmail.com">ilasuvalov1@gmail.com</a></p>
    <p><strong id="bride-title">Невеста:</strong> Глебушева Мария Юрьевна — <a href="tel:+79807047684">+7 (980) 704-76-84</a><br />
      <a href="mailto:glebusheva2005@gmail.com">glebusheva2005@gmail.com</a></p>
  </section>

  <section class="guestbook" aria-label="Гостевая книга">
    <h2 id="guestbook-title">Подтверждение участия</h2>
    <form id="guestbook-form" action="https://formspree.io/f/mgvkzbgo" method="POST">
      <label for="name" id="label-name">Ваше имя:</label>
      <input type="text" id="name" name="name" required placeholder="Введите имя" />
      <label for="email" id="label-email">Email для ответа:</label>
      <input type="email" id="email" name="email" required placeholder="Введите email" />
      <label for="attending" id="label-attending">Вы придёте?</label>
      <select id="attending" name="attending" required>
        <option value="" disabled selected>Выберите вариант</option>
        <option value="yes">Да, с радостью приду</option>
        <option value="no">К сожалению, не смогу</option>
      </select>
      <button type="submit" id="submit-btn">Отправить</button>
      <p class="success-msg" id="success-msg" role="alert">Спасибо! Ваш ответ отправлен.</p>
      <p class="error-msg" id="error-msg" role="alert">Что-то пошло не так. Попробуйте ещё раз.</p>
    </form>
  </section>

  <footer>
    &copy; 2025 Ильи и Марии. Все права защищены.
  </footer>

  <audio id="background-music" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/02/24/audio_2ccf3942c5.mp3?filename=lovely-day-10021.mp3" type="audio/mpeg" />
    Ваш браузер не поддерживает аудио.
  </audio>

  <script>
    const texts = {
      ru: {
        title: "Приглашение на свадьбу",
        couple: "Ильи и Марии",
        dateTime: "7 августа, четверг, 16:00",
        countdownTitle: "До свадьбы осталось:",
        daysLabel: "дней",
        hoursLabel: "часов",
        minutesLabel: "минут",
        secondsLabel: "секунд",
        placeTitle: "Место проведения",
        placeText: 'Санаторий "Красный Холм", Ярославская область, п. Красный Холм, ул. Волжская д. 2',
        programTitle: "Программа",
        prog1: "16:00 Начало свадьбы",
        prog5: "17:00 Лёгкие закуски и напитки",
        prog7: "18:00 Тосты",
        prog3: "19:00 Дресс-код: мы рады видеть вас в любом наряде, который подарит вам комфорт и уверенность в себе. Главное — чтобы одежда была удобной, позволяла свободно двигаться и приносила радость. Пусть ваш стиль отражает ваше настроение и индивидуальность — будь то лёгкое платье, изящный костюм или что-то совершенно особенное. Важно, чтобы вы чувствовали себя свободно и наслаждались праздником в полной мере!",
        prog8: "20:00 Переключение языка сайта (Русский/Удмуртский)",
        prog2: "21:00 Караоке",
        prog4: "22:00 Танцы и веселье",
        prog6: "23:00 Окончание мероприятия",
        contactsTitle: "Контакты",
        groomTitle: "Жених:",
        brideTitle: "Невеста:",
        guestbookTitle: "Подтверждение участия",
        labelName: "Ваше имя:",
        labelEmail: "Email для ответа:",
        labelAttending: "Вы придёте?",
        submitBtn: "Отправить",
        successMsg: "Спасибо! Ваш ответ отправлен.",
        errorMsg: "Что-то пошло не так. Попробуйте ещё раз.",
        langSwitch: "Русский",
        musicOn: "Включить музыку",
        musicOff: "Выключить музыку",
      },
      udm: {
        title: "Свадьба приглашение",
        couple: "Ильи и Марии",
        dateTime: "7 август, четверг, 16:00",
        countdownTitle: "Свадьба кыклысьёс:",
        daysLabel: "пӧртъяс",
        hoursLabel: "часъёс",
        minutesLabel: "минутъёс",
        secondsLabel: "секундъёс",
        placeTitle: 'Почин',
        placeText: 'Санаторий "Красный Холм", Ярославская область, п. Красный Холм, ул. Волжская д. 2',
        programTitle: "Программа",
        prog1: "16:00 Свадьба ужын",
        prog5: "17:00 Лёгкие закуски и напитки",
        prog7: "18:00 Тостъёс",
        prog3: "19:00 Одежда код: выльдыръёсын гостъёсъёсын ужъясько и кывлэсьтэмлыськом одежда. Главное — выльдыръёсын удобно, кывлэсьтэмлыськом, уктэмьыны пыръёслыны удмурт кылъёс. Пусть ваш стиль выражает ваше настроение и индивидуальность. Важно, чтобы вы чувствовали себя комфортно и наслаждались праздником в полной мере!",
        prog8: "20:00 Сайт языкос переключение (Русский/Удмуртский)",
        prog2: "21:00 Караоке",
        prog4: "22:00 Танцы и веселье",
        prog6: "23:00 Мероприятие кыклысь",
        contactsTitle: "Контактъёс",
        groomTitle: "Жених:",
        brideTitle: "Невеста:",
        guestbookTitle: "Участие подтверждение",
        labelName: "Ваше имя:",
        labelEmail: "Email для ответа:",
        labelAttending: "Придёте?",
        submitBtn: "Отправить",
        successMsg: "Рахмат! Ваш ответ отправлен.",
        errorMsg: "Что-то пошло не так. Попробуйте ещё раз.",
        langSwitch: "Удмурт кыл",
        musicOn: "Музыка вкл",
        musicOff: "Музыка выкл",
      },
    };

    let currentLang = 'ru';

    // Функция переключения языка
    function switchLanguage() {
      const t = texts[currentLang];
      document.getElementById('title').textContent = t.title;
      document.getElementById('couple').textContent = t.couple;
      document.getElementById('date-time').textContent = t.dateTime;
      document.getElementById('countdown-title').textContent = t.countdownTitle;
      document.getElementById('days-label').textContent = t.daysLabel;
      document.getElementById('hours-label').textContent = t.hoursLabel;
      document.getElementById('minutes-label').textContent = t.minutesLabel;
      document.getElementById('seconds-label').textContent = t.secondsLabel;
      document.getElementById('place-title').textContent = t.placeTitle;
      document.getElementById('place-text').textContent = t.placeText;
      document.getElementById('program-title').textContent = t.programTitle;
      document.getElementById('prog-1').textContent = t.prog1;
      document.getElementById('prog-5').textContent = t.prog5;
      document.getElementById('prog-7').textContent = t.prog7;
      document.getElementById('prog-3').textContent = t.prog3;
      document.getElementById('prog-8').textContent = t.prog8;
      document.getElementById('prog-2').textContent = t.prog2;
      document.getElementById('prog-4').textContent = t.prog4;
      document.getElementById('prog-6').textContent = t.prog6;
      document.getElementById('contacts-title').textContent = t.contactsTitle;
      document.getElementById('groom-title').textContent = t.groomTitle;
      document.getElementById('bride-title').textContent = t.brideTitle;
      document.getElementById('guestbook-title').textContent = t.guestbookTitle;
      document.getElementById('label-name').textContent = t.labelName;
      document.getElementById('label-email').textContent = t.labelEmail;
      document.getElementById('label-attending').textContent = t.labelAttending;
      document.getElementById('submit-btn').textContent = t.submitBtn;
      document.getElementById('success-msg').textContent = t.successMsg;
      document.getElementById('error-msg').textContent = t.errorMsg;
      document.getElementById('lang-switcher').textContent = currentLang === 'ru' ? texts['udm'].langSwitch : texts['ru'].langSwitch;
      const musicToggle = document.getElementById('music-toggle');
      musicToggle.textContent = musicPlaying ? (currentLang === 'ru' ? texts['ru'].musicOff : texts['udm'].musicOff) : (currentLang === 'ru' ? texts['ru'].musicOn : texts['udm'].musicOn);
    }

    // Переключатель языка
    document.getElementById('lang-switcher').addEventListener('click', () => {
      currentLang = currentLang === 'ru' ? 'udm' : 'ru';
      switchLanguage();
    });

    // Таймер обратного отсчёта
    const weddingDate = new Date('2025-08-07T16:00:00');

    function updateCountdown() {
      const now = new Date();
      const diff = weddingDate - now;
      if (diff <= 0) {
        document.getElementById('countdown').textContent = currentLang === 'ru' ? 'Свадьба уже наступила!' : 'Свадьба ужын кыклысь!';
        return;
      }
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById('days').textContent = days;
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Музыка и кнопка
    const music = document.getElementById('background-music');
    const musicToggle = document.getElementById('music-toggle');
    let musicPlaying = false;

    musicToggle.addEventListener('click', () => {
      if (musicPlaying) {
        music.pause();
      } else {
        music.play();
      }
    });

    music.addEventListener('play', () => {
      musicPlaying = true;
      musicToggle.textContent = currentLang === 'ru' ? texts['ru'].musicOff : texts['udm'].musicOff;
      musicToggle.setAttribute('aria-pressed', 'true');
    });

    music.addEventListener('pause', () => {
      musicPlaying = false;
      musicToggle.textContent = currentLang === 'ru' ? texts['ru'].musicOn : texts['udm'].musicOn;
      musicToggle.setAttribute('aria-pressed', 'false');
    });

    // Лепестки роз — создаём много лепестков и анимируем
    const petalsCount = 30;
    for (let i = 0; i < petalsCount; i++) {
      const petal = document.createElement('div');
      petal.className = 'petal';
      petal.style.left = Math.random() * 100 + 'vw';
      petal.style.animationDuration = (5 + Math.random() * 10) + 's';
      petal.style.animationDelay = (Math.random() * 10) + 's';
      petal.style.opacity = 0.5 + Math.random() * 0.5;
      petal.style.width = (15 + Math.random() * 20) + 'px';
      petal.style.height = petal.style.width;
      document.body.appendChild(petal);
    }

    // Форма: обработка отправки и отображение сообщений
    const form = document.getElementById('guestbook-form');
    const successMsg = document.getElementById('success-msg');
    const errorMsg = document.getElementById('error-msg');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      successMsg.style.display = 'none';
      errorMsg.style.display = 'none';

      const formData = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });
        if (response.ok) {
          form.reset();
          successMsg.style.display = 'block';
        } else {
          throw new Error('Ошибка отправки');
        }
      } catch (error) {
        errorMsg.style.display = 'block';
      }
    });

    // Инициализация текста на странице
    switchLanguage();

  </script>
</body>
</html>

